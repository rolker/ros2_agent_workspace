# Promptfoo Configuration for Agent Instruction Testing
# Tests agent behavior against documented workflows and rules

description: "ROS2 Agent Workspace - Agent Instruction Compliance Tests"

# Prompts (agent instructions to test)
# Paths are relative to repo root (workflow runs from .agent/testing/)
prompts:
  - file://../../.agent/AI_RULES.md
  - file://../../.agent/AI_CLI_QUICKSTART.md
  - file://../../.agent/rules/common/git-hygiene.md
  - file://../../.agent/rules/common/ai-signature.md
  - file://../../.agent/rules/common/issue-first.md

# Test providers - uses GitHub Models (no separate API keys needed)
# Authenticates with GITHUB_TOKEN environment variable
# NOTE: Commented out until GitHub Models access is configured
# GitHub Models available: gpt-5-mini, phi-4, llama-3.2, etc.
# See: https://github.com/marketplace?type=models
providers:
  # Uncomment when GitHub Models access is available:
  # - id: github:openai/gpt-5-mini
  #   label: "GPT-5 Mini (via GitHub)"
  #   config:
  #     temperature: 0.7
  #     max_tokens: 2048
  
  # For now, use local/mock provider for config validation
  - id: echo
    label: "Echo Provider (for testing config)"

# Default test configuration
defaultTest:
  # Use grading assertions to check behavior
  assert:
    - type: llm-rubric
      value: "follows documented workflow"

# Output configuration
outputPath: .promptfoo/output.json

# Test execution settings
tests: []  # Will be defined in separate test files
